import threading
import time
import os
from eth_account import Account
from mnemonic import Mnemonic
# æ¯”å¦‚ï¼Œæ‚¨æƒ³è¦ä»¥ "8888" å¼€å¤´çš„åœ°å€
# è¯·å°†ä¸‹é¢çš„ "8888" æ›¿æ¢ä¸ºæ‚¨æƒ³è¦çš„å­—ç¬¦
PREFIX_TO_FIND = "888888"
# ------------------------------------

# å…¨å±€å˜é‡å’Œé”
found_event = threading.Event()  # ç”¨äºé€šçŸ¥æ‰€æœ‰çº¿ç¨‹æ‰¾åˆ°ç»“æœ
result_lock = threading.Lock()   # ç”¨äºä¿æŠ¤ç»“æœå’Œè®¡æ•°å™¨

found_mnemonic = None
found_address = None
found_private_key = None

total_attempts = 0
start_time = time.time()

# å¯ç”¨ eth_account çš„HDé’±åŒ…åŠŸèƒ½
Account.enable_unaudited_hdwallet_features()

def generate_vanity_address(vanity_prefix):
    global total_attempts, found_mnemonic, found_address, found_private_key
    mnemo = Mnemonic("english")

    while not found_event.is_set():
        words = mnemo.generate(strength=128)
        try:
            account = Account.from_mnemonic(words)
        except Exception:
            continue

        address = account.address
        private_key = account.key.hex()

        with result_lock:
            total_attempts += 1
            if address.lower().startswith(vanity_prefix):
                found_mnemonic = words
                found_address = address
                found_private_key = private_key
                found_event.set()  # è®¾ç½®äº‹ä»¶ï¼Œé€šçŸ¥å…¶ä»–çº¿ç¨‹åœæ­¢
                break

def main():
    global total_attempts, start_time

    vanity_prefix = "0x" + PREFIX_TO_FIND.lower()
    print(f"æ­£åœ¨åŠªåŠ›å¯»æ‰¾ä»¥ '{vanity_prefix}' å¼€å¤´çš„é“å·åœ°å€...")
    print("æ‰¾åˆ°åä¼šè‡ªåŠ¨åœæ­¢å¹¶æ˜¾ç¤ºç»“æœã€‚è¿™å¯èƒ½éœ€è¦å¾ˆé•¿æ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…...")

    num_threads = max(1, os.cpu_count() - 1) # ä½¿ç”¨CPUæ ¸å¿ƒæ•°-1ä½œä¸ºçº¿ç¨‹æ•°ï¼Œè‡³å°‘1ä¸ª
    print(f"å°†å¯åŠ¨ {num_threads} ä¸ªçº¿ç¨‹è¿›è¡Œæœç´¢...")

    threads = []
    for _ in range(num_threads):
        thread = threading.Thread(target=generate_vanity_address, args=(vanity_prefix,))
        threads.append(thread)
        thread.start()

    # å®æ—¶æ˜¾ç¤ºè¿›åº¦
    while not found_event.is_set():
        with result_lock:
            current_attempts = total_attempts
        elapsed_time = time.time() - start_time
        hashes_per_second = current_attempts / elapsed_time if elapsed_time > 0 else 0
        print(f"\rå·²å°è¯• {current_attempts} æ¬¡... å½“å‰é€Ÿåº¦: {hashes_per_second:.0f} æ¬¡/ç§’", end="", flush=True)
        time.sleep(1) # æ¯ç§’æ›´æ–°ä¸€æ¬¡

    # ç­‰å¾…æ‰€æœ‰çº¿ç¨‹ç»“æŸ
    for thread in threads:
        thread.join()

    end_time = time.time()
    print("\n\nğŸ‰ æ­å–œï¼æˆåŠŸæ‰¾åˆ°é“å·åœ°å€ï¼ğŸ‰")
    print("-" * 50)
    print(f"ğŸ”‘ åŠ©è®°è¯ (Mnemonic): {found_mnemonic}")
    print(f"ğŸ’¼ é“å·åœ°å€ (Address): {found_address}")
    print(f"ğŸ” ç§é’¥ (Private Key): {found_private_key}")
    print("-" * 50)
    print(f"æ€»å…±å°è¯•äº† {total_attempts} æ¬¡, è€—æ—¶ {end_time - start_time:.2f} ç§’ã€‚")

if __name__ == "__main__":
    main()

import os